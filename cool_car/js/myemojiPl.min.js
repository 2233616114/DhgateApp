(function(d,n,m,p){d.fn.myEmoji=function(h){h=d.extend({emojiconfig:{tieba:{name:"\u8d34\u5427\u8868\u60c5",path:"img/tieba/",maxNum:50,file:".jpg",placeholder:":{alias}:",alias:{1:"hehe",2:"haha",3:"tushe",4:"a",5:"ku",6:"lu",7:"kaixin",8:"han",9:"lei",10:"heixian",11:"bishi",12:"bugaoxing",13:"zhenbang",14:"qian",15:"yiwen",16:"yinxian",17:"tu",18:"yi",19:"weiqu",20:"huaxin",21:"hu",22:"xiaonian",23:"neng",24:"taikaixin",25:"huaji",26:"mianqiang",27:"kuanghan",28:"guai",29:"shuijiao",30:"jinku",31:"shengqi",32:"jinya",33:"pen",34:"aixin",35:"xinsui",36:"meigui",37:"liwu",38:"caihong",39:"xxyl",40:"taiyang",41:"qianbi",42:"dnegpao",43:"chabei",44:"dangao",45:"yinyue",46:"haha2",47:"shenli",48:"damuzhi",49:"ruo",50:"OK"},title:{1:"\u5475\u5475",2:"\u54c8\u54c8",3:"\u5410\u820c",4:"\u554a",5:"\u9177",6:"\u6012",7:"\u5f00\u5fc3",8:"\u6c57",9:"\u6cea",10:"\u9ed1\u7ebf",11:"\u9119\u89c6",12:"\u4e0d\u9ad8\u5174",13:"\u771f\u68d2",14:"\u94b1",15:"\u7591\u95ee",16:"\u9634\u8138",17:"\u5410",18:"\u54a6",19:"\u59d4\u5c48",20:"\u82b1\u5fc3",21:"\u547c~",22:"\u7b11\u8138",23:"\u51b7",24:"\u592a\u5f00\u5fc3",25:"\u6ed1\u7a3d",26:"\u52c9\u5f3a",27:"\u72c2\u6c57",28:"\u4e56",29:"\u7761\u89c9",30:"\u60ca\u54ed",31:"\u751f\u6c14",32:"\u60ca\u8bb6",33:"\u55b7",34:"\u7231\u5fc3",35:"\u5fc3\u788e",36:"\u73ab\u7470",37:"\u793c\u7269",38:"\u5f69\u8679",39:"\u661f\u661f\u6708\u4eae",40:"\u592a\u9633",41:"\u94b1\u5e01",42:"\u706f\u6ce1",43:"\u8336\u676f",44:"\u86cb\u7cd5",45:"\u97f3\u4e50",46:"haha",47:"\u80dc\u5229",48:"\u5927\u62c7\u6307",49:"\u5f31",50:"OK"}}},postFunction:function(){alert(e.html());console.log(e.html())}},h);var a=h.emojiconfig,g=d(this),l=g.find(".Input_Box"),c=g.find(".faceDiv"),e=l.find(".Input_text"),g=l.find(".Input_Foot");g.find(".imgBtn").click(function(){var k=c.find(".emoji_container");if(0>=k.children().length){c.css({width:30*Math.floor(e.width()/30)+"px",display:"block"});for(var b in a){k.append('\x3csection class\x3d"for_'+b+'"\x3e\x3c/section\x3e');c.find(".emoji_tab").append('\x3ca href\x3d"#!" data-target\x3d"for_'+b+'"\x3e'+a[b].name+"\x3c/a\x3e");for(var f=1;f<=a[b].maxNum;f++)void 0!==k.find(".for_"+b)&&k.find(".for_"+b).append('\x3ca href\x3d"#!" class\x3d"_img"\x3e\x3cimg src\x3d"'+a[b].path+f+a[b].file+'" alt\x3d"" data-alias\x3d"'+(void 0==a[b].alias?f+a[b].file:a[b].alias[f])+'" title\x3d"'+(void 0==a[b].title?"":a[b].title[f])+'" /\x3e\x3c/a\x3e')}c.find(".emoji_container section")[0].style.display="block";c.find(".emoji_tab a")[0].className+="active";c.find(".emoji_container ._img").on("click",function(){"DIV"===e[0].nodeName?e.append(this.innerHTML):e.append("["+d(this).find("img").attr("data-alias")+"]")});c.find(".emoji_tab a").on("click",function(){d(this).parent().prev().find("section").hide();c.find(".emoji_container ."+d(this).attr("data-target")).show();c.find(".emoji_tab a").removeClass("active");this.className+=" active"})}else c.toggle()});g.find(".postBtn").on("click",h.postFunction);d(m).on("click",function(a){0>=c.find(d(a.target)).length&&0>=l.find(d(a.target)).length&&c.hide()})}})(jQuery,window,document);